---
import BaseLayout from '../layouts/BaseLayout.astro';
import { getEntry } from 'astro:content';
import { Image } from 'astro:assets'; // For hero background image

const pageData = await getEntry('pages', 'omne');
const { Content } = await pageData.render();
---
<BaseLayout title={pageData.data.title} description={pageData.data.seo_description}>
  <div class="container page-container">
    {pageData.data.hero_heading && (
      <section class="page-hero text-center" style={pageData.data.hero_background_image ? `background-image: url(${pageData.data.hero_background_image}); background-size: cover; background-position: center; padding: 4rem 0; color: white;` : ''}>
        <h1>{pageData.data.hero_heading}</h1>
        {/* If hero_background_image is present, text color might need adjustment for contrast */}
      </section>
    )}
    <article class="main-content">
      <Content />
    </article>

    {(pageData.data.gallery_cta_label || pageData.data.contact_cta_label) && (
      <section class="cta-section text-center">
        {pageData.data.gallery_cta_label && pageData.data.gallery_cta_link && (
          <a href={pageData.data.gallery_cta_link} class="cta-button">{pageData.data.gallery_cta_label}</a>
        )}
        {pageData.data.contact_cta_label && pageData.data.contact_cta_link && (
          <a href={pageData.data.contact_cta_link} class="cta-button secondary">{pageData.data.contact_cta_label}</a>
        )}
      </section>
    )}
  </div>
</BaseLayout>

<style>
  .page-container {
    padding-top: 2rem;
    padding-bottom: 2rem;
  }
  .page-hero {
    margin-bottom: 2rem;
    border-radius: 8px;
  }
  .page-hero h1 {
    color: inherit; /* Inherits from .page-hero or defaults if no bg */
  }
  .main-content {
    background-color: var(--color-white);
    padding: 2rem;
    border-radius: 8px;
    box-shadow: 0 2px 10px rgba(0,0,0,0.05);
  }
  .main-content :global(img) { /* Style images within markdown */
    margin-top: 1rem;
    margin-bottom: 1rem;
    border-radius: 4px;
  }
  .cta-section {
    padding: 2rem 0;
    margin-top: 2rem;
    border-top: 1px solid #eee;
  }
  .cta-section .cta-button {
    margin: 0.5rem;
  }
  .cta-button.secondary {
    background-color: var(--color-primary-gray);
    color: var(--color-white);
  }
  .cta-button.secondary:hover {
    background-color: var(--color-dark);
  }
</style> 